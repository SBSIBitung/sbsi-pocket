<script>
  // ... (fungsi login tetap sama)

  function toStep2() {
    const tmtInput = document.getElementById('tmt').value;
    const phkInput = document.getElementById('phk').value;
    
    if(!tmtInput || !phkInput) {
      alert("Harap isi Tanggal Masuk dan Tanggal PHK terlebih dahulu.");
      return;
    }

    const y1 = new Date(tmtInput).getFullYear();
    const y2 = new Date(phkInput).getFullYear();
    
    // Validasi urutan tahun
    if (y1 > y2) {
      alert("Tahun PHK tidak boleh lebih awal dari Tahun Masuk.");
      return;
    }

    let html = '';
    // Loop untuk membuat baris input selisih upah per bulan selama masa kerja
    for(let y = y1; y <= y2; y++) {
      let valUmp = UMP[y] || 0;
      let labelUmp = valUmp > 0 ? `Rp ${Number(valUmp).toLocaleString()}` : "Data Tidak Ada";
      
      html += `
        <tr>
          <td class="fw-bold">${y}</td>
          <td>${labelUmp}</td>
          <td>
            <input type="number" class="u-in form-control form-control-sm" 
                   data-y="${y}" value="${valUmp}" placeholder="Input Upah Bulanan">
          </td>
        </tr>`;
    }
    
    document.getElementById('upahTable').innerHTML = html;
    toStep(2); // Pindah ke tampilan tahap 2
  }

  // ... (fungsi hitung selisih tetap sama)
</script>
